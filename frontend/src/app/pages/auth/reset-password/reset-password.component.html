<div class="auth-layout">
    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-lock-open"></i>
                </div>
                <h1>Reset Password</h1>
                <p>Enter your new password below</p>
            </div>

            <!-- Reset Form -->
            <form *ngIf="!resetSuccess" [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()" class="auth-form">
                <app-form-input [control]="resetPasswordForm.get('password')!" label="New Password" type="password"
                    placeholder="Create a strong password" icon="fa-lock" [required]="true"></app-form-input>

                <app-password-strength [passwordControl]="passwordControl"></app-password-strength>

                <app-form-input [control]="resetPasswordForm.get('confirmPassword')!" label="Confirm Password"
                    type="password" placeholder="Re-enter your password" icon="fa-lock"
                    [required]="true"></app-form-input>

                <div class="form-actions">
                    <button type="submit" class="btn-auth" [disabled]="isLoading">
                        <span *ngIf="!isLoading">Reset Password</span>
                        <span *ngIf="isLoading">Resetting...</span>
                    </button>
                </div>

                <div class="auth-footer">
                    Remember your password? <a routerLink="/login">Login</a>
                </div>
            </form>

            <!-- Success State -->
            <div *ngIf="resetSuccess" class="success-state">
                <div class="success-icon">
                    <i class="fas fa-check"></i>
                </div>
                <h2>Password Reset!</h2>
                <p>Your password has been successfully reset. You can now login with your new password.</p>

                <button type="button" class="btn-auth" (click)="goToLogin()" style="width: 100%;">
                    Go to Login
                </button>
            </div>
        </div>
    </div>
</div>

<app-loading-spinner *ngIf="isLoading" [overlay]="true" message="Resetting password..."></app-loading-spinner>