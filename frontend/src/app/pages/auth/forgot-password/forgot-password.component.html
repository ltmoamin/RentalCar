<div class="auth-layout">
    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-key"></i>
                </div>
                <h1>Forgot Password?</h1>
                <p>No worries, we'll send you reset instructions</p>
            </div>

            <!-- Email Form -->
            <form *ngIf="!emailSent" [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="auth-form">
                <app-form-input [control]="forgotPasswordForm.get('email')!" label="Email Address" type="email"
                    placeholder="Enter your email" icon="fa-envelope" [required]="true"
                    hint="We'll send a password reset link to this email"></app-form-input>

                <div class="form-actions">
                    <button type="submit" class="btn-auth" [disabled]="isLoading">
                        <span *ngIf="!isLoading">Send Reset Link</span>
                        <span *ngIf="isLoading">Sending...</span>
                    </button>
                </div>

                <div class="auth-footer">
                    Remember your password? <a routerLink="/login">Login</a>
                </div>
            </form>

            <!-- Success State -->
            <div *ngIf="emailSent" class="success-state">
                <div class="success-icon">
                    <i class="fas fa-envelope-open-text"></i>
                </div>
                <h2>Check your email</h2>
                <p>We've sent a password reset link to your email address</p>

                <button type="button" class="btn-auth" (click)="resendEmail()" style="width: 100%;">
                    Resend Email
                </button>

                <div class="auth-footer">
                    Back to <a routerLink="/login">Login</a>
                </div>
            </div>
        </div>
    </div>
</div>

<app-loading-spinner *ngIf="isLoading" [overlay]="true" message="Sending reset link..."></app-loading-spinner>