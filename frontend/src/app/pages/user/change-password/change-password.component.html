<div class="change-password-page">
    <div class="container">
        <div class="page-header">
            <h1><i class="fas fa-lock"></i> Change Password</h1>
            <a routerLink="/profile" class="btn btn-outline">
                <i class="fas fa-arrow-left"></i>
                Back to Profile
            </a>
        </div>

        <div class="password-grid">
            <!-- Change Password Form -->
            <div class="card">
                <h2>Update Your Password</h2>
                <p class="subtitle">Ensure your account is using a strong password to stay secure</p>

                <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
                    <app-form-input [control]="changePasswordForm.get('currentPassword')!" label="Current Password"
                        type="password" placeholder="Enter current password" icon="fa-lock"
                        [required]="true"></app-form-input>

                    <app-form-input [control]="changePasswordForm.get('newPassword')!" label="New Password"
                        type="password" placeholder="Enter new password" icon="fa-lock"
                        [required]="true"></app-form-input>

                    <app-password-strength [passwordControl]="newPasswordControl"></app-password-strength>

                    <app-form-input [control]="changePasswordForm.get('confirmPassword')!" label="Confirm New Password"
                        type="password" placeholder="Re-enter new password" icon="fa-lock"
                        [required]="true"></app-form-input>

                    <div class="form-actions">
                        <button type="button" routerLink="/profile" class="btn btn-outline">
                            Cancel
                        </button>
                        <button type="submit" class="btn btn-primary" [disabled]="isLoading">
                            <span *ngIf="!isLoading">Update Password</span>
                            <span *ngIf="isLoading">Updating...</span>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Security Tips -->
            <div class="card security-tips">
                <h3><i class="fas fa-shield-alt"></i> Security Tips</h3>
                <ul>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        Use a mix of uppercase and lowercase letters
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        Include numbers and special characters
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        Make it at least 8 characters long
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        Don't reuse passwords from other accounts
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        Change your password regularly
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        Never share your password with anyone
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<app-loading-spinner *ngIf="isLoading" [overlay]="true" message="Updating password..."></app-loading-spinner>